var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.moveTo(0, 0);
ctx.lineTo(200, 100);
ctx.stroke();

window.requestAnimationFrame(draw);

function drawCircle(x, y, radius) {
    ctx.beginPath();
    ctx.arc(x, y, radius, 0, 2 * Math.PI);
    ctx.stroke();
}

points = [
    [0,0],[0,0.314159265358979],[0,0.628318530717959],[0,0.942477796076938],[0,1.25663706143592],[0,1.5707963267949],[0,1.88495559215388],[0,2.19911485751286],[0,2.51327412287183],[0,2.82743338823081],[0.314159265358979,0],[0.314159265358979,0.314159265358979],[0.314159265358979,0.628318530717959],[0.314159265358979,0.942477796076938],[0.314159265358979,1.25663706143592],[0.314159265358979,1.5707963267949],[0.314159265358979,1.88495559215388],[0.314159265358979,2.19911485751286],[0.314159265358979,2.51327412287183],[0.314159265358979,2.82743338823081],[0.628318530717959,0],[0.628318530717959,0.314159265358979],[0.628318530717959,0.628318530717959],[0.628318530717959,0.942477796076938],[0.628318530717959,1.25663706143592],[0.628318530717959,1.5707963267949],[0.628318530717959,1.88495559215388],[0.628318530717959,2.19911485751286],[0.628318530717959,2.51327412287183],[0.628318530717959,2.82743338823081],[0.942477796076938,0],[0.942477796076938,0.314159265358979],[0.942477796076938,0.628318530717959],[0.942477796076938,0.942477796076938],[0.942477796076938,1.25663706143592],[0.942477796076938,1.5707963267949],[0.942477796076938,1.88495559215388],[0.942477796076938,2.19911485751286],[0.942477796076938,2.51327412287183],[0.942477796076938,2.82743338823081],[1.25663706143592,0],[1.25663706143592,0.314159265358979],[1.25663706143592,0.628318530717959],[1.25663706143592,0.942477796076938],[1.25663706143592,1.25663706143592],[1.25663706143592,1.5707963267949],[1.25663706143592,1.88495559215388],[1.25663706143592,2.19911485751286],[1.25663706143592,2.51327412287183],[1.25663706143592,2.82743338823081],[1.5707963267949,0],[1.5707963267949,0.314159265358979],[1.5707963267949,0.628318530717959],[1.5707963267949,0.942477796076938],[1.5707963267949,1.25663706143592],[1.5707963267949,1.5707963267949],[1.5707963267949,1.88495559215388],[1.5707963267949,2.19911485751286],[1.5707963267949,2.51327412287183],[1.5707963267949,2.82743338823081],[1.88495559215388,0],[1.88495559215388,0.314159265358979],[1.88495559215388,0.628318530717959],[1.88495559215388,0.942477796076938],[1.88495559215388,1.25663706143592],[1.88495559215388,1.5707963267949],[1.88495559215388,1.88495559215388],[1.88495559215388,2.19911485751286],[1.88495559215388,2.51327412287183],[1.88495559215388,2.82743338823081],[2.19911485751286,0],[2.19911485751286,0.314159265358979],[2.19911485751286,0.628318530717959],[2.19911485751286,0.942477796076938],[2.19911485751286,1.25663706143592],[2.19911485751286,1.5707963267949],[2.19911485751286,1.88495559215388],[2.19911485751286,2.19911485751286],[2.19911485751286,2.51327412287183],[2.19911485751286,2.82743338823081],[2.51327412287183,0],[2.51327412287183,0.314159265358979],[2.51327412287183,0.628318530717959],[2.51327412287183,0.942477796076938],[2.51327412287183,1.25663706143592],[2.51327412287183,1.5707963267949],[2.51327412287183,1.88495559215388],[2.51327412287183,2.19911485751286],[2.51327412287183,2.51327412287183],[2.51327412287183,2.82743338823081],[2.82743338823081,0],[2.82743338823081,0.314159265358979],[2.82743338823081,0.628318530717959],[2.82743338823081,0.942477796076938],[2.82743338823081,1.25663706143592],[2.82743338823081,1.5707963267949],[2.82743338823081,1.88495559215388],[2.82743338823081,2.19911485751286],[2.82743338823081,2.51327412287183],[2.82743338823081,2.82743338823081],[3.14159265358979,0],[3.14159265358979,0.314159265358979],[3.14159265358979,0.628318530717959],[3.14159265358979,0.942477796076938],[3.14159265358979,1.25663706143592],[3.14159265358979,1.5707963267949],[3.14159265358979,1.88495559215388],[3.14159265358979,2.19911485751286],[3.14159265358979,2.51327412287183],[3.14159265358979,2.82743338823081],[3.45575191894877,0],[3.45575191894877,0.314159265358979],[3.45575191894877,0.628318530717959],[3.45575191894877,0.942477796076938],[3.45575191894877,1.25663706143592],[3.45575191894877,1.5707963267949],[3.45575191894877,1.88495559215388],[3.45575191894877,2.19911485751286],[3.45575191894877,2.51327412287183],[3.45575191894877,2.82743338823081],[3.76991118430775,0],[3.76991118430775,0.314159265358979],[3.76991118430775,0.628318530717959],[3.76991118430775,0.942477796076938],[3.76991118430775,1.25663706143592],[3.76991118430775,1.5707963267949],[3.76991118430775,1.88495559215388],[3.76991118430775,2.19911485751286],[3.76991118430775,2.51327412287183],[3.76991118430775,2.82743338823081],[4.08407044966673,0],[4.08407044966673,0.314159265358979],[4.08407044966673,0.628318530717959],[4.08407044966673,0.942477796076938],[4.08407044966673,1.25663706143592],[4.08407044966673,1.5707963267949],[4.08407044966673,1.88495559215388],[4.08407044966673,2.19911485751286],[4.08407044966673,2.51327412287183],[4.08407044966673,2.82743338823081],[4.39822971502571,0],[4.39822971502571,0.314159265358979],[4.39822971502571,0.628318530717959],[4.39822971502571,0.942477796076938],[4.39822971502571,1.25663706143592],[4.39822971502571,1.5707963267949],[4.39822971502571,1.88495559215388],[4.39822971502571,2.19911485751286],[4.39822971502571,2.51327412287183],[4.39822971502571,2.82743338823081],[4.71238898038469,0],[4.71238898038469,0.314159265358979],[4.71238898038469,0.628318530717959],[4.71238898038469,0.942477796076938],[4.71238898038469,1.25663706143592],[4.71238898038469,1.5707963267949],[4.71238898038469,1.88495559215388],[4.71238898038469,2.19911485751286],[4.71238898038469,2.51327412287183],[4.71238898038469,2.82743338823081],[5.02654824574367,0],[5.02654824574367,0.314159265358979],[5.02654824574367,0.628318530717959],[5.02654824574367,0.942477796076938],[5.02654824574367,1.25663706143592],[5.02654824574367,1.5707963267949],[5.02654824574367,1.88495559215388],[5.02654824574367,2.19911485751286],[5.02654824574367,2.51327412287183],[5.02654824574367,2.82743338823081],[5.34070751110265,0],[5.34070751110265,0.314159265358979],[5.34070751110265,0.628318530717959],[5.34070751110265,0.942477796076938],[5.34070751110265,1.25663706143592],[5.34070751110265,1.5707963267949],[5.34070751110265,1.88495559215388],[5.34070751110265,2.19911485751286],[5.34070751110265,2.51327412287183],[5.34070751110265,2.82743338823081],[5.65486677646163,0],[5.65486677646163,0.314159265358979],[5.65486677646163,0.628318530717959],[5.65486677646163,0.942477796076938],[5.65486677646163,1.25663706143592],[5.65486677646163,1.5707963267949],[5.65486677646163,1.88495559215388],[5.65486677646163,2.19911485751286],[5.65486677646163,2.51327412287183],[5.65486677646163,2.82743338823081],[5.96902604182061,0],[5.96902604182061,0.314159265358979],[5.96902604182061,0.628318530717959],[5.96902604182061,0.942477796076938],[5.96902604182061,1.25663706143592],[5.96902604182061,1.5707963267949],[5.96902604182061,1.88495559215388],[5.96902604182061,2.19911485751286],[5.96902604182061,2.51327412287183],]

iso_points = [
    [1.5707963267949, 0.553583753299266],
        [1.5707963267949, -0.553583753299266],
        [1.5707963267949, -2.58800890029053],
        [1.5707963267949, 2.58800890029053],
        [0.553583753299266, 0],
        [-0.553583753299266, 0],
        [2.58800890029053, 0],
        [-2.58800890029053, 0],
        [1.01721257349563, 1.5707963267949],
        [2.12438008009416, 1.5707963267949],
        [2.12438008009416, -1.5707963267949],
        [1.01721257349563, -1.5707963267949],
]

function draw() {
    ctx.clearRect(0, 0, 1000, 1000);

    const time = Date.now();

    const a = (time / 1900) % (2*Math.PI)
    const b = (time / 2000) % (2*Math.PI)
    const g = 0


    for (const point of points) {
        const x = 300 * Math.sin(point[0]) * Math.cos(point[1])
        const y = 300 * Math.sin(point[0]) * Math.sin(point[1])
        const z = 300 * Math.cos(point[0])


        const sin = Math.sin
        const cos = Math.cos

        const tx = cos(b)*cos(g)*x + (sin(a)*sin(b)*cos(g) - cos(a)*sin(g))*y + (cos(a)*sin(b)*cos(g) + sin(a)*sin(g))*z
        const ty = cos(b)*sin(g)*x + (sin(a)*sin(b)*sin(g) + cos(a)*cos(g))*y + (cos(a)*sin(b)*sin(g) - sin(a)*cos(g))*z

        drawCircle(tx+600, ty+300, 10)
    }

    window.requestAnimationFrame(draw);
}